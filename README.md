
# æ–‡ä»¶ä¾¿ç­¾ (File Note)

> å‚è€ƒ XD çš„ **[pasteboard.py](references/pasteboard.py)** å®ç°çš„æ–‡ä»¶å…±äº«å’Œç®¡ç†å·¥å…·ï¼Œä½¿ç”¨ Java é‡å†™å¹¶å¢å¼ºåŠŸèƒ½

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

ä¸€ä¸ªç®€æ´æ˜“ç”¨çš„æ–‡ä»¶å…±äº«å’Œç®¡ç†å·¥å…·ï¼Œæ”¯æŒå¤šç§æ–‡ä»¶ä¸Šä¼ æ–¹å¼ï¼Œæä¾›ç”¨æˆ·æƒé™ç®¡ç†å’Œæ–‡ä»¶é¢„è§ˆåŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **å¤šç§ä¸Šä¼ æ–¹å¼**ï¼šæ”¯æŒå¤åˆ¶ç²˜è´´ã€æ‹–æ‹½ã€é€‰æ‹©æ–‡ä»¶ç­‰å¤šç§ä¸Šä¼ æ–¹å¼
- **ä¸Šä¼ è¿›åº¦æ˜¾ç¤º**ï¼šå®æ—¶æ˜¾ç¤ºä¸Šä¼ è¿›åº¦ï¼Œé¿å…ä¸Šä¼ å¤§æ–‡ä»¶æ—¶æ— åé¦ˆ
- **æ–‡æœ¬ä¸Šä¼ **ï¼šæ”¯æŒç›´æ¥ç²˜è´´æ–‡æœ¬å†…å®¹å¹¶ä¿å­˜
- **ç”¨æˆ·æƒé™ç®¡ç†**ï¼š
  - æ”¯æŒç”¨æˆ·åˆ†ç»„é…ç½®
  - ç®¡ç†å‘˜è§’è‰²å¯åˆ é™¤å½“å‰ç»„å†…æ–‡ä»¶
  - æ™®é€šç”¨æˆ·åªèƒ½ä¸Šä¼ å’ŒæŸ¥çœ‹æ–‡ä»¶
- **åŒ¿åè®¿é—®**ï¼šæ”¯æŒé…ç½®åŒ¿åç”¨æˆ·è®¿é—®ä¸æ–‡ä»¶ä¸Šä¼ ï¼Œç‹¬ç«‹äºæ™®é€šç”¨æˆ·ç»„
- **æ–‡ä»¶é¢„è§ˆ**ï¼šæ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ç­‰æ ¼å¼çš„åœ¨çº¿é¢„è§ˆ
- **ç§»åŠ¨ç«¯é€‚é…**ï¼šå“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡è®¿é—®
- **æ–‡ä»¶ç®¡ç†**ï¼šæŒ‰å¹´ä»½/æœˆä»½ç­›é€‰æŸ¥çœ‹æ–‡ä»¶

## ğŸ–¼ï¸ ç•Œé¢å±•ç¤º

### ç™»å½•é¡µé¢

![ç™»å½•é¡µé¢](images/login.png)


![åŒ¿åç”¨æˆ·ç™»å½•ç•Œé¢](images/anonymous-login.png)
> åŒ¿åç”¨æˆ·ç™»å½•ç•Œé¢


### ä¸»ç•Œé¢

![ä¸»ç•Œé¢](images/main.png)

### å¤§æ–‡ä»¶ä¸Šä¼ 
![å¤§æ–‡ä»¶ä¸Šä¼ ](images/large-file-upload.png)



### ç§»åŠ¨ç«¯é€‚é…

![ç§»åŠ¨ç«¯](images/mobile.png)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**ï¼šJava 8 + Spring Boot 2.3.12.RELEASE
- **å‰ç«¯**ï¼šHTML5 + CSS3 + JavaScript
- **å­˜å‚¨**ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### å‰ææ¡ä»¶

- Java 8 æˆ–æ›´é«˜ç‰ˆæœ¬

### æ‰“åŒ…åç›®å½•ç»“æ„

æœ€ç»ˆæ‰“åŒ…åçš„ tar åŒ…è§£å‹åå°†åŒ…å«ä»¥ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼š

```
file-note/
â”œâ”€â”€ file-note-0.1.jar    # åº”ç”¨ç¨‹åº JAR æ–‡ä»¶
â”œâ”€â”€ application.yml      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ start.sh             # Linux/Mac å¯åŠ¨è„šæœ¬
â””â”€â”€ start.bat            # Windows å¯åŠ¨è„šæœ¬
```

### è¿è¡Œæ­¥éª¤

1. ä¸‹è½½å¹¶è§£å‹æœ€æ–°çš„ tar åŒ…
2. åœ¨è§£å‹åçš„ç›®å½•ä¸­åˆ›å»ºæˆ–ä¿®æ”¹ `application.yml` é…ç½®æ–‡ä»¶
3. è¿è¡Œåº”ç”¨ï¼š

   **ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰ï¼š**
   
   - **Linux/Macï¼š**
     ```bash
     # èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™
     chmod +x start.sh
     
     # è¿è¡Œè„šæœ¬
     ./start.sh
     ```
     
   - **Windowsï¼š**
     ```bash
     # ç›´æ¥åŒå‡»è¿è¡Œæˆ–åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ
     start.bat
     ```
     
   **ä½¿ç”¨ä¼ ç»Ÿå‘½ä»¤ï¼š**
   ```bash
   java -jar file-note.jar
   ```
   
   **åœ¨åå°è¿è¡Œï¼ˆLinux/Macï¼‰ï¼š**
   ```bash
   nohup java -jar file-note.jar > out.log 2>&1 &
   ```

4. è®¿é—®åº”ç”¨ï¼šhttp://localhost:8080

## âš™ï¸ é…ç½®è¯´æ˜

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š`application.yml`

### åŸºç¡€é…ç½®ç¤ºä¾‹

```yaml
# æœåŠ¡å™¨é…ç½®
server:
  port: 8080
  servlet:
    session:
      timeout: 1h

# æ–‡ä»¶ä¸Šä¼ é…ç½®
spring:
  servlet:
    multipart:
      max-file-size: 10GB
      max-request-size: 10GB

# æ–‡ä»¶å­˜å‚¨ç›®å½•ä¸ç”¨æˆ·é…ç½®
file-note:
  # åŒ¿åè®¿é—®é…ç½®
  anonymous:
    enabled: true
    name: åŒ¿åç”¨æˆ·ç»„
    directory: /opt/file-note/anonymous
    role: user
  # ç”¨æˆ·ç»„é…ç½®
  groups:
    - name: å¯¹å¤–å…±äº«ç»„
      directory: /opt/file-note/shared
      users:
        - username: user
          password: pass
          role: user
        - username: sadmin
          password: sadmin123
          role: admin
    - name: å†…éƒ¨ç”¨æˆ·ç»„
      directory: /opt/file-note/data
      users:
        - username: admin
          password: admin123
          role: admin
```

### é…ç½®è¯´æ˜

**æœåŠ¡å™¨é…ç½®**ï¼šè®¾ç½®ç«¯å£å’Œä¼šè¯è¶…æ—¶æ—¶é—´
**æ–‡ä»¶ä¸Šä¼ é…ç½®**ï¼šè®¾ç½®æ–‡ä»¶å¤§å°é™åˆ¶

**åŒ¿åè®¿é—®é…ç½®**ï¼š
  - `enabled`ï¼šæ˜¯å¦å¯ç”¨åŒ¿åè®¿é—®ï¼Œtrueä¸ºå¯ç”¨ï¼Œfalseä¸ºç¦ç”¨
  - `name`ï¼šåŒ¿åç”¨æˆ·ç»„çš„æ˜¾ç¤ºåç§°ï¼Œå°†åœ¨ç•Œé¢ä¸Šå±•ç¤º
  - `directory`ï¼šåŒ¿åç”¨æˆ·çš„æ–‡ä»¶å­˜å‚¨ç›®å½•ï¼Œéœ€ç¡®ä¿ç³»ç»Ÿæœ‰è¯»å†™æƒé™
  - `role`ï¼šåŒ¿åç”¨æˆ·çš„è§’è‰²ï¼ˆuser æˆ– adminï¼‰ï¼Œadminè§’è‰²å¯ä»¥åˆ é™¤å½“å‰ç»„å†…æ–‡ä»¶ï¼Œå»ºè®®è®¾ç½®ä¸ºuserä»¥ä¿è¯å®‰å…¨æ€§

**ç”¨æˆ·ç»„é…ç½®**ï¼š
- `name`ï¼šç”¨æˆ·ç»„åç§°
- `directory`ï¼šæ–‡ä»¶å­˜å‚¨ç›®å½•ï¼Œéœ€ç¡®ä¿ç³»ç»Ÿæœ‰è¯»å†™æƒé™
- `users`ï¼šç”¨æˆ·åˆ—è¡¨
  - `username`ï¼šç”¨æˆ·å
  - `password`ï¼šå¯†ç 
  - `role`ï¼šç”¨æˆ·è§’è‰²ï¼ˆuser æˆ– adminï¼‰ï¼Œadminè§’è‰²å¯ä»¥åˆ é™¤å½“å‰ç»„å†…æ–‡ä»¶

